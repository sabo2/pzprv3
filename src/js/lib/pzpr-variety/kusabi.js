/*! @license pzpr.js v3.6.0-pre (c) 2009-2016 sabo2, MIT license
 *   https://bitbucket.org/sabo2/pzprv3 */
pzpr.classmgr.makeCustom(["kusabi"],{MouseEvent:{mouseinput:function(){this.puzzle.playmode?this.btn.Left?this.mousestart||this.mousemove?this.inputLine():this.mouseend&&this.notInputted()&&this.inputpeke():this.btn.Right&&(this.mousestart||this.mousemove)&&this.inputpeke():this.puzzle.editmode&&this.mousestart&&this.inputqnum()}},KeyEvent:{enablemake:!0},Cell:{numberAsObject:!0,maxnum:3},Board:{hasborder:1},LineGraph:{enabled:!0,makeClist:!0},Graphic:{hideHatena:!0,gridcolor_type:"LIGHT",circleratio:[.45,.4],paint:function(){this.drawBGCells(),this.drawGrid(),this.drawPekes(),this.drawLines(),this.drawCircles(),this.drawNumbers(),this.drawChassis(),this.drawTarget()},drawNumber1:function(a){var b=this.context,c={1:"同",2:"短",3:"長"}[a.qnum]||"";b.vid="cell_text_"+a.id,c?(b.fillStyle=this.fontcolor,this.disptext(c,a.bx*this.bw,a.by*this.bh,{ratio:[.65]})):b.vhide()}},Encode:{decodePzpr:function(a){this.decodeNumber10()},encodePzpr:function(a){this.encodeNumber10()}},FileIO:{decodeData:function(){this.decodeCellQnum(),this.decodeBorderLine()},encodeData:function(){this.encodeCellQnum(),this.encodeBorderLine()}},AnsCheck:{checklist:["checkBranchLine","checkCrossLine","checkTripleObject","checkLineOverLetter","checkKusabiShape","checkProperLetter","checkCurveOver","checkCurveLack","checkLengthNotEq","checkLengthWrong","checkLineShapeDeadend","checkDisconnectLine","checkNoLineObject+"],checkKusabiShape:function(){this.checkLineShape(function(a){return 2===a.ccnt&&a.dir1!==a.dir2},"lcNotKusabi")},checkProperLetter:function(){this.checkLineShape(function(a){var b=a.cells[0],c=a.cells[1],d=b.qnum,e=c.qnum;return!c.isnull&&2===a.ccnt&&!(1===d&&1===e||2===d&&3===e||3===d&&2===e||-2===d||-2===e)},"lcInvalid")},checkCurveOver:function(){this.checkLineShape(function(a){return a.ccnt>2},"lcCurveGt2")},checkCurveLack:function(){this.checkLineShape(function(a){return!a.cells[1].isnull&&a.ccnt<2},"lcCurveLt2")},checkLengthNotEq:function(){this.checkLineShape(function(a){var b=a.cells[0],c=a.cells[1],d=b.qnum,e=c.qnum;return!c.isnull&&2===a.ccnt&&(1===d||1===e)&&a.length[0]!==a.length[2]},"lcLenInvNe")},checkLengthWrong:function(){this.checkLineShape(function(a){var b=a.cells[0],c=a.cells[1],d=b.qnum,e=c.qnum,f=a.length;return!c.isnull&&2===a.ccnt&&((2===d||3===e)&&f[0]>=f[2]||(3===d||2===e)&&f[0]<=f[2])},"lcLenInvDiff")}},FailCode:{lcOnNum:["○の上を線が通過しています。","A line goes through a circle."],lcIsolate:["○につながっていない線があります。","A line doesn't connect any circle."],lcTripleNum:["3つ以上の○が繋がっています。","Three or more objects are connected."],lcNotKusabi:["丸がコの字型に繋がっていません。","The shape of a line is not correct."],lcInvalid:["繋がる丸が正しくありません。","The type of connected circle is wrong."],lcCurveGt2:["線が2回以上曲がっています。","A line turns twice or more."],lcCurveLt2:["線が2回曲がっていません。","A line turns only once or lower."],lcLenInvNe:["線の長さが同じではありません。","The length of lines is differnet."],lcLenInvDiff:["線の長短の指示に反してます。","The length of lines is not suit for the label of object."],nmNoLine:["どこにもつながっていない○があります。","A circle is not connected another object."]}});